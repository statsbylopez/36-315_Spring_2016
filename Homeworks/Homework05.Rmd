---
title: "36-315 Homework 05, Spring 2016"
author: "Your Name Here"
date: "Due Wednesday, February 10, 2016 (12pm ET) on Blackboard"
output: html_document
---

#  Homework 05:  Contingency Tables, Chi-Square Tests, Odds Ratios, Four Fold Plots, Mosaic Plots

##  Bob Ross Guides Us To Understanding Categorical Data

***General instructions for homeworks***: 

+  Use this file as the template for your homework submission.  Delete the unecessary text (e.g. this text, the problem statements, etc).  That said, keep the nicely formatted "Problem 1", "Problem 2", "a.", "b.", etc
+  Submit two files to Blackboard:  (1) an `R` Markdown file (named as:  [AndrewID]-HW05.Rmd -- e.g. "sventura-HW05.Rmd"), and (2) the corresponding .html file generated from `R` Markdown (named as:  [AndrewID]-HW05.html -- e.g. "sventura-HW05.html") to Blackboard in the Homework 05 submission section on Blackboard.  You are also welcome to upload a single .zip file containing both of these.
+  Your file should contain the code/commands to answer each question in its own code block; your code should produce plots that will be automatically embedded in the output file
+  Each answer must be supported by written statements (unless otherwise specified)
+  Include the name of anyone you collaborated with at the top of the assignment
+  Include the style guide you used at the top of the assignment

#  Problem 1

(15 points) 

**Critiquing Graphs**:

Find a graph from the internet (last 7 days -- e.g. a news article, blog post, etc) or from an academic journal (last 60 days).  Describe and critique your graph:

a.  **Include the graph in your assignment**.  Two choices here:  (1) embed the graph/image in the .html file (see below for instructions) and submit it along with your other files on Blackboard, or (2) include a link to the graph in your answer to this question.
b.  **Describe the graph**.  What does the graph show?  What variables are plotted on the axes, via color, or via other features of the graph?
c.  **Critique the graph**.  Does the graph do a good job of achieving its goals?  Does the graph use an unnecessary amount of data ink?  Does the graph distort the actual effect/data/relationship?  What are the strengths and weaknesses (if any) of the graphic?  What would you change (if anything) about this graphic?
d.  **Critique the caption and/or surrounding text**.  Does the text enhance the user's understanding of the graphic?  What else would you include in the caption/surrounding text to help the viewer understand the graphic?

To include an image from the internet in your `R` Markdown output, use the following code (adjust the width and height as necessary):

(Note:  If you're viewing the .html file, you'll see an image below; the code to render this image is in the .Rmd file.)

<div style="width:400px">
![alt text](bridges.jpg)
</div>


#  Problem 2

**Pittsburgh Bridges**

Read the Pittsburgh Bridges dataset into R from the following Google Sheets source:  https://docs.google.com/spreadsheets/d/1Ac865zNs3Gf2uivvCwYDvo9fAj5f61f77xGNbTQBa8c/pubhtml

a.  (5 points)  Which variables are categorical?  For each categorical variable, describe the unique categories in context.  For example, for the `river` variable, what does each letter mean?  Hint:  It may help to look at a map of Pittsburgh.

b.  (5 points)  Which variables are continuous?  What are the ranges of the continuous variables in the dataset?  Do you consider the `when.erected` variable to be continuous?  Why or why not?

c.  (10 points)  Explore the dataset's categorical variables.  Are there any interesting associations between any of the categories?  Use at least two graphics from our previous material on categorical data visualization to support your findings.  You are welcome (and encouraged!) to use more than two.

Note:  Part (c) is the type of open-ended question that you might see on a lab exam.


#  Problem 3

**Critiquing Boxplots**

a.  (5 points)  What do you think about the definition of outliers in boxplots?  (See Lab 05 for details.)  Which choices in this definition are arbitrary?  Are there any types of distributions for which this definition may not be fair?  (Hint:  What happens when we make a boxplot of an exponential distribution?)

b.  (5 points)  Describe how you could change boxplots in a way that preserves their strengths but improves upon their weaknesses.  Be creative!  (Note:  You do not have to actually create this graphic -- yet.)

c.  (5 points)  Create a boxplot of the `length` variable from the Pittsburgh Bridges dataset.  Describe any interesting features that you see.  Be sure the graph is properly labeled, titled, and colored.

d.  (5 points)  Now, visualize the conditional distributions of `length` given the `material` variable with side-by-side boxplots.  To do this, use a line of code similar to:  `ggplot(data = pgh_bridges, aes(x = material, y = length)) + geom_boxplot()` (obviously, adding appropriate titles/labels/colors/legends when appropriate).  Describe any interesting features of the conditional distribution of `length`.

e.  (5 points)  Repeat part (d), but use the `type` variable instead of `material` on the x-axis.  


#  Problem 4

(5 points each)

**Histograms**

a.  Create a histogram of the `length` variable.  Use 20 equally sized bins -- you can specify this with `bins = 20` in your call to `geom_histogram()`.  Be sure that your graph is properly labeled and titled.  

b.  Repeat (a), but this time, in your call to `geom_histogram()`, include `aes(fill=..count..)`.  What does this do to the graph?  

c.  Repeat part (b), but this time, add `+ scale_fill_gradient("Legend Label", low = "green", high = "red")` to the line of code.  Use an appropriate legend label.  Try a few different combinations of colors.  What does `scale_fill_gradient()` do?

d.  Create a bar chart of the `when.erected` variable.  Use proper labels/titles/colors.

e.  Create a histogram of the `when.erected` variable.  Use proper labels/titles/colors.  Using the same approach as we did in lab, specify `binwidth = 1`.  Compare this graph to the graph in (d).

f.  Change the `binwidth` to something more appropriate (e.g. 10), in order to smooth out the distribution.  Describe the marginal distribution of `when.erected`.  In what decades were the most Pittsburgh bridges built?  

g.  Use the `facet_wrap()` or `facet_grid()` functions to visualize the conditional distribution of the `when.erected` variable given material.  Describe any relationship between these two variables that you observe.  

h.  (BONUS:  2 points)  What local, national, and world events might have contributed to Pittsburgh's increases and decreases in bridge construction since 1800?


#  Problem 5

(5 points)

**Themes in `ggplot`**

Read the documentation on `ggplot` themes [here](http://docs.ggplot2.org/dev/vignettes/themes.html).

Pick one of your graphs from Problem 4, and recreate it with a new theme.  In your new theme, use a whtie background, a different font style, a different font size, a different font color, and any additional changes that you choose.

Use the example code in the above documentation if you have trouble.


#  Problem 6

(BONUS:  2 point)

Please fill out the [early course feedback form] (https://docs.google.com/forms/d/13bEjS4WIs-8iIyHN2f8AEFifdEEg3rZMqKfbtSCAkSw/viewform?usp=send_form).  We are always looking to improve, so we appreciate your feedback.


